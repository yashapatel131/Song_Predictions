from flask import Flask, request, jsonify, render_template
import tensorflow as tf
import numpy as np
from tensorflow.keras import backend
from tensorflow.keras.models import load_model
column_list = ['Acousticness', 'Danceability', 'Duration', 'Energy',
       'Instrumentalness', 'Liveness', 'Loudness', 'Speechiness', 'Tempo',
       'Valence', 'Artist_10 Years', 'Artist_112', 'Artist_2 Chainz',
       'Artist_2 Pistols', 'Artist_2Pac', 'Artist_3 Doors Down', 'Artist_311',
       'Artist_3LW', 'Artist_3OH!3', 'Artist_50 Cent', 'Artist_702',
       'Artist_A Perfect Circle', 'Artist_A Rocket To The Moon',
       'Artist_A Tribe Called Quest', 'Artist_A*Teens', 'Artist_AFI',
       'Artist_AWOLNATION', 'Artist_Aaron Carter', 'Artist_Aaron Lewis',
       'Artist_Aaron Lines', 'Artist_Aaron Tippin', 'Artist_Ace Hood',
       'Artist_Action Bronson', 'Artist_Adam Lambert', 'Artist_Adele',
       'Artist_Aerosmith', 'Artist_Afrojack', 'Artist_Afroman',
       'Artist_Airwaves', 'Artist_Akon', 'Artist_Alabama',
       'Artist_Alan Jackson', 'Artist_Alanis Morissette',
       'Artist_Alejandro Sanz', 'Artist_Alex Clare', 'Artist_Alexandra Stan',
       'Artist_Alice In Chains', 'Artist_Alicia Keys', 'Artist_Alien Ant Farm',
       'Artist_Alisan Porter', 'Artist_Alison Krauss', 'Artist_Aloe Blacc',
       'Artist_Alpha Rev', 'Artist_Aly', 'Artist_Amanda',
       'Artist_Amanda Perez', 'Artist_Amel Larrieux', 'Artist_American Hi',
       'Artist_Amerie', 'Artist_Amy Winehouse', 'Artist_Anastacia',
       'Artist_Andy Grammer', 'Artist_Andy Griggs', 'Artist_Andy Williams',
       'Artist_Angels', 'Artist_Angie Stone', 'Artist_Anita Baker',
       'Artist_Anna Nalick', 'Artist_Annie Lennox', 'Artist_Anthony Hamilton',
       'Artist_Anya Marina', 'Artist_Apocalyptica', 'Artist_Arcade Fire',
       'Artist_Arctic Monkeys', 'Artist_Armin van Buuren', 'Artist_Ashanti',
       'Artist_Asher Roth', 'Artist_Ashlee Simpson', 'Artist_Ashley Tisdale',
       'Artist_Audioslave', 'Artist_Augustana', 'Artist_Avant',
       'Artist_Aventura', 'Artist_Avril Lavigne', 'Artist_Azul Azul',
       'Artist_B*Witched', 'Artist_B.o.B', 'Artist_B2K', 'Artist_BBMak',
       'Artist_BT', 'Artist_Baby Bash', 'Artist_Babyface',
       'Artist_Backstreet Boys', 'Artist_Baha Men', 'Artist_Beanie Sigel',
       'Artist_Beastie Boys', 'Artist_Beck', 'Artist_Ben Folds',
       'Artist_Ben Rector', 'Artist_Benzino', 'Artist_Beth Hart',
       'Artist_Beyonce', 'Artist_Big', 'Artist_Big Punisher',
       'Artist_Big Sean', 'Artist_Big Time Rush', 'Artist_Big Tymers',
       'Artist_Bilal', 'Artist_Billy Currington', 'Artist_Billy Dean',
       'Artist_Billy Gilman', 'Artist_Billy Ray Cyrus', 'Artist_Bing Crosby',
       'Artist_Birdman', 'Artist_Bjork', 'Artist_Black Rob',
       'Artist_Blake Lewis', 'Artist_Blake Shelton', 'Artist_Blink',
       'Artist_Bloodhound Gang', 'Artist_Blue October', 'Artist_Bo Bice',
       'Artist_Bobby Helms', 'Artist_Bobby V', 'Artist_Bobby Valentino',
       'Artist_Bon', 'Artist_Bon Jovi', 'Artist_Bone Thugs', 'Artist_Bow Wow',
       'Artist_Bowling For Soup', 'Artist_Boys Like Girls',
       'Artist_Boyz II Men', 'Artist_Boyz N Da Hood', 'Artist_Brad Paisley',
       'Artist_Brandi Carlile', 'Artist_Brandy', 'Artist_Brantley Gilbert',
       'Artist_Breaking Benjamin', 'Artist_Breathe Carolina',
       'Artist_Brenda Lee', 'Artist_Britney Spears', 'Artist_Britt Nicole',
       'Artist_Brooke Hogan', 'Artist_Brooke White', 'Artist_Brooks',
       'Artist_Brown Boy', 'Artist_Bruno Mars', 'Artist_Bubba Sparxxx',
       'Artist_Buckcherry', 'Artist_Bucky Covington', 'Artist_Buddy Jewell',
       'Artist_Bush', 'Artist_Busta Rhymes', 'Artist_Ca$his', 'Artist_Caesars',
       'Artist_Cage The Elephant', 'Artist_Cali Swag District',
       'Artist_Calvin Harris', 'Artist_CamRon', 'Artist_Carl Thomas',
       'Artist_Carlos Vives', 'Artist_Carly Rae Jepsen',
       'Artist_Carolyn Dawn Johnson', 'Artist_Carrie Underwood',
       'Artist_Cartel', 'Artist_Case', 'Artist_Cash Cash', 'Artist_Cassidy',
       'Artist_Celine Dion', 'Artist_Chad Brock', 'Artist_Cham',
       'Artist_Chamillionaire', 'Artist_Changing Faces', 'Artist_Chante Moore',
       'Artist_Charice', 'Artist_Charlie Wilson', 'Artist_Chely Wright',
       'Artist_Cher', 'Artist_Chevelle', 'Artist_Chico DeBarge',
       'Artist_Childish Gambino', 'Artist_Chingy', 'Artist_Chris Brown',
       'Artist_Chris Cagle', 'Artist_Chris Cornell', 'Artist_Chris Lake',
       'Artist_Chris Willis', 'Artist_Chris Young', 'Artist_Chrisette Michele',
       'Artist_Christina Aguilera', 'Artist_Christina Milian',
       'Artist_Christina Perri', 'Artist_Chuck Berry', 'Artist_Ciara',
       'Artist_Clay Aiken', 'Artist_Clay Walker', 'Artist_Clint Black',
       'Artist_Clipse', 'Artist_Cobra Starship', 'Artist_Cody Johnson',
       'Artist_Colbie Caillat', 'Artist_Cold', 'Artist_Collective Soul',
       'Artist_Collin Raye', 'Artist_Common', 'Artist_Coo Coo Cal',
       'Artist_Counting Crows', 'Artist_Craig Campbell', 'Artist_Craig David',
       'Artist_Craig Morgan', 'Artist_Crazy Frog', 'Artist_Crazy Town',
       'Artist_Creed', 'Artist_Crime Mob', 'Artist_Cristian Castro',
       'Artist_Crossfade', 'Artist_Crystal Bowersox', 'Artist_Cupid',
       'Artist_Curren$Y', 'Artist_DJ Drama', 'Artist_DJ Khaled',
       'Artist_DJ Sammy', 'Artist_DMX', 'Artist_Da Brat',
       'Artist_Daddy Yankee', 'Artist_Daft Punk',
       'Artist_Damian Jr. Gong Marley', 'Artist_Damien',
       'Artist_Daniel Powter', 'Artist_Danity Kane', 'Artist_Danny Gokey',
       'Artist_Darius Rucker', 'Artist_Darlene Love', 'Artist_Darren Hayes',
       'Artist_Darryl Worley', 'Artist_Darude', 'Artist_Daryl Hall John Oates',
       'Artist_Dashboard Confessional', 'Artist_Daughtry', 'Artist_Dave Days',
       'Artist_Dave Hollister', 'Artist_Dave Matthews Band',
       'Artist_David Archuleta', 'Artist_David Ball', 'Artist_David Banner',
       'Artist_David Bowie', 'Artist_David Cook', 'Artist_David Gray',
       'Artist_David Guetta', 'Artist_David Lee Murphy', 'Artist_David Nail',
       'Artist_Dcup', 'Artist_Death Cab For Cutie', 'Artist_Deborah Cox',
       'Artist_Default', 'Artist_Dem Franchize Boyz', 'Artist_Demi Lovato',
       'Artist_Depeche Mode', 'Artist_Diamond Rio', 'Artist_Diana DeGarmo',
       'Artist_Diddy', 'Artist_Dido', 'Artist_Dierks Bentley',
       'Artist_Dilated Peoples', 'Artist_Diplo', 'Artist_Dirty Vegas',
       'Artist_Disturbed', 'Artist_Dixie Chicks', 'Artist_Don Henley',
       'Artist_Don Omar', 'Artist_Donell Jones', 'Artist_Dorrough',
       'Artist_Down A.K.A. Kilo', 'Artist_Dragonette', 'Artist_Drake',
       'Artist_Drama', 'Artist_Dream', 'Artist_Dru Hill', 'Artist_Dunn',
       'Artist_Duran Duran', 'Artist_Dwele', 'Artist_Dwight Yoakam',
       'Artist_Easton Corbin', 'Artist_Ed Sheeran', 'Artist_Edward Maya',
       'Artist_Edwin McCain', 'Artist_Eiffel 65', 'Artist_El Chombo',
       'Artist_Elephant Man', 'Artist_Eli Young Band', 'Artist_Ellie Goulding',
       'Artist_Elliott Yamin', 'Artist_Elvis Presley', 'Artist_Emerson Drive',
       'Artist_Eminem', 'Artist_Empire Of The Sun', 'Artist_En Vogue',
       'Artist_Enrique Iglesias', 'Artist_Enya', 'Artist_Eric Benet',
       'Artist_Eric Heatherly', 'Artist_Erick Sermon', 'Artist_Erykah Badu',
       'Artist_Estelle', 'Artist_Evanescence', 'Artist_Eve', 'Artist_Eve 6',
       'Artist_Everclear', 'Artist_Everlast', 'Artist_Fabolous',
       'Artist_Faith Evans', 'Artist_Fall Out Boy', 'Artist_Fantasia',
       'Artist_Far*East Movement', 'Artist_Fastball', 'Artist_Fat Joe',
       'Artist_Fatboy Slim', 'Artist_Fefe Dobson', 'Artist_Feist',
       'Artist_Field Mob', 'Artist_Filter', 'Artist_Finger Eleven',
       'Artist_Fitz And The Tantrums', 'Artist_Five Finger Death Punch',
       'Artist_Fleetwood Mac', 'Artist_Flex', 'Artist_Flo Rida',
       'Artist_Flobots', 'Artist_Floetry', 'Artist_Florence + The Machine',
       'Artist_Flyleaf', 'Artist_Foo Fighters', 'Artist_Foster The People',
       'Artist_Fountains Of Wayne', 'Artist_Fragma', 'Artist_Framing Hanley',
       'Artist_Francesca Battistelli', 'Artist_Frank Sinatra',
       'Artist_Frankie J', 'Artist_Franz Ferdinand', 'Artist_Freeway',
       'Artist_French Montana', 'Artist_Fuel', 'Artist_Game', 'Artist_Garbage',
       'Artist_Gary Allan', 'Artist_Gavin DeGraw', 'Artist_Gene Autry',
       'Artist_George Harrison', 'Artist_George Michael',
       'Artist_George Strait', 'Artist_Gerald Levert', 'Artist_Gesaffelstein',
       'Artist_Ghostface Killah', 'Artist_Gigi DAgostino', 'Artist_Ginuwine',
       'Artist_Glee Cast', 'Artist_Glen Campbell', 'Artist_Gloria Estefan',
       'Artist_Gloriana', 'Artist_Godsmack', 'Artist_Goo Goo Dolls',
       'Artist_Good Charlotte', 'Artist_Gorilla Zoe', 'Artist_Gorillaz',
       'Artist_Gotye', 'Artist_Grace', 'Artist_Granger Smith',
       'Artist_Green Day', 'Artist_Gretchen Wilson', 'Artist_Grouplove',
       'Artist_Guerilla Black', 'Artist_Guns N Roses', 'Artist_Guy Sebastian',
       'Artist_Gwen Stefani', 'Artist_Gym Class Heroes', 'Artist_Gyptian',
       'Artist_Hannah Montana', 'Artist_Heather Headley',
       'Artist_Hellogoodbye', 'Artist_High School Musical Cast',
       'Artist_High Valley', 'Artist_Hikaru Utada', 'Artist_Hilary Duff',
       'Artist_Hinder', 'Artist_Hoobastank', 'Artist_Hot Boys',
       'Artist_Houston', 'Artist_Howie Day', 'Artist_Huey',
       'Artist_Hugh Laurie', 'Artist_Hunter Hayes', 'Artist_Hurricane Chris',
       'Artist_INXS', 'Artist_Ice Cube', 'Artist_Ideal', 'Artist_Idina Menzel',
       'Artist_Incubus', 'Artist_India.Arie', 'Artist_Ingrid Michaelson',
       'Artist_J', 'Artist_J. Cole', 'Artist_J. Holiday', 'Artist_JT Money',
       'Artist_Ja Rule', 'Artist_Jack Ingram', 'Artist_Jack Johnson',
       'Artist_Jadakiss', 'Artist_Jagged Edge', 'Artist_Jaheim',
       'Artist_Jake Owen', 'Artist_James Blake', 'Artist_James Blunt',
       'Artist_James Newton Howard', 'Artist_James Otto', 'Artist_Jamie Foxx',
       'Artist_Jamie ONeal', 'Artist_Janelle Monae', 'Artist_Janet',
       'Artist_Janet Jackson', 'Artist_Jason Derulo',
       'Artist_Jason Michael Carroll', 'Artist_Jason Mraz', 'Artist_Jay Rock',
       'Artist_Jazmine Sullivan', 'Artist_Jeannie Ortega', 'Artist_Jeezy',
       'Artist_Jeff Bates', 'Artist_Jennifer Hudson', 'Artist_Jennifer Lopez',
       'Artist_Jeremih', 'Artist_Jermaine Dupri', 'Artist_Jerrod Niemann',
       'Artist_Jesse McCartney', 'Artist_Jessica Andrews',
       'Artist_Jessica Simpson', 'Artist_Jessie J', 'Artist_Jessie James',
       'Artist_Jet', 'Artist_Jewel', 'Artist_Jim Jones',
       'Artist_Jimmy Buffett', 'Artist_Jimmy Eat World', 'Artist_Jimmy Wayne',
       'Artist_Jo Dee Messina', 'Artist_Joe', 'Artist_Joe Budden',
       'Artist_Joe Diffie', 'Artist_Joe Nichols', 'Artist_John Legend',
       'Artist_John Mayer', 'Artist_John Mellencamp',
       'Artist_John Michael Montgomery', 'Artist_Jon B',
       'Artist_Jonas Brothers', 'Artist_Jordan Knight', 'Artist_Jordin Sparks',
       'Artist_Jose Feliciano', 'Artist_Josh Gracin', 'Artist_Josh Groban',
       'Artist_Josh Kelley', 'Artist_Josh Thompson', 'Artist_Josh Turner',
       'Artist_Joshua Radin', 'Artist_Joss Stone', 'Artist_Juanes',
       'Artist_Juelz Santana', 'Artist_Juicy J', 'Artist_Julianne Hough',
       'Artist_Julie Roberts', 'Artist_Justin Bieber', 'Artist_Justin Moore',
       'Artist_Justin Timberlake', 'Artist_Juvenile', 'Artist_KONGOS',
       'Artist_Kardinal Offishall', 'Artist_Kart', 'Artist_Kaskade',
       'Artist_Kat DeLuna', 'Artist_Kate Voegele', 'Artist_Katharine McPhee',
       'Artist_Katy Perry', 'Artist_KeKe Wyatt', 'Artist_Keane',
       'Artist_Keith Murray', 'Artist_Keith Urban', 'Artist_Kelis',
       'Artist_Kellie Pickler', 'Artist_Kelly Clarkson', 'Artist_Kelly Price',
       'Artist_Kelly Rowland', 'Artist_Kem', 'Artist_Ken',
       'Artist_Kendrick Lamar', 'Artist_Kenny Chesney', 'Artist_Kenny G',
       'Artist_Keri Hilson', 'Artist_Kevin Gates', 'Artist_Kevin Lyttle',
       'Artist_Keyshia Cole', 'Artist_Kid Cudi', 'Artist_Kid Rock',
       'Artist_Killer Mike', 'Artist_Kimberley Locke', 'Artist_Kings Of Leon',
       'Artist_Kirk Franklin', 'Artist_Kirko Bangz', 'Artist_Korn',
       'Artist_Kris Allen', 'Artist_Kristinia DeBarge', 'Artist_Kylie Minogue',
       'Artist_LFO', 'Artist_LL Cool J', 'Artist_LMFAO', 'Artist_La Roux',
       'Artist_Lady Antebellum', 'Artist_Lady Gaga', 'Artist_Lady Sovereign',
       'Artist_Lana Del Rey', 'Artist_Lara Fabian', 'Artist_Lasgo',
       'Artist_Lauren Alaina', 'Artist_LeAnn Rimes', 'Artist_Lee Ann Womack',
       'Artist_Lee Brice', 'Artist_Lee DeWyze', 'Artist_Len',
       'Artist_Lenny Kravitz', 'Artist_Leona Lewis', 'Artist_Leonard Cohen',
       'Artist_Li', 'Artist_Lifehouse', 'Artist_Lil Jon', 'Artist_Lil Kim',
       'Artist_Lil Mo', 'Artist_Lil Rob', 'Artist_Lil Scrappy',
       'Artist_Lil Troy', 'Artist_Lil Wayne', 'Artist_Lila McCann',
       'Artist_Lily Allen', 'Artist_Limp Bizkit', 'Artist_Linkin Park',
       'Artist_Lionel Richie', 'Artist_Lit', 'Artist_Little Big Town',
       'Artist_Liz Phair', 'Artist_Lloyd', 'Artist_Lloyd Banks',
       'Artist_Lonestar', 'Artist_Loon', 'Artist_Los Lonely Boys',
       'Artist_Lostprophets', 'Artist_Lou Bega', 'Artist_Love And Theft',
       'Artist_Ludacris', 'Artist_Luis Fonsi', 'Artist_Luke Bryan',
       'Artist_Lumidee', 'Artist_Lupe Fiasco', 'Artist_Lustra',
       'Artist_Luther Vandross', 'Artist_Lyfe Jennings', 'Artist_M.I.A.',
       'Artist_M2M', 'Artist_M83.', 'Artist_MGMT', 'Artist_MIKA',
       'Artist_Mac Miller', 'Artist_Macy Gray', 'Artist_Madcon',
       'Artist_Madonna', 'Artist_Maino', 'Artist_Major Lazer', 'Artist_Mana',
       'Artist_Mandy Moore', 'Artist_Mann', 'Artist_Mannie Fresh',
       'Artist_Maria Mena', 'Artist_Mariah Carey', 'Artist_Mario',
       'Artist_Mark Chesnutt', 'Artist_Mark Ronson', 'Artist_Mark Wills',
       'Artist_Maroon 5', 'Artist_Marques Houston', 'Artist_Marsha Ambrosius',
       'Artist_Martin Solveig', 'Artist_Martina McBride', 'Artist_Marvin Sapp',
       'Artist_Mary Chapin Carpenter', 'Artist_Mary J. Blige',
       'Artist_Mary Mary', 'Artist_Mase', 'Artist_Master P',
       'Artist_Mat Kearney', 'Artist_Matisyahu', 'Artist_Matt And Kim',
       'Artist_Matt Nathanson', 'Artist_Maxwell', 'Artist_Meek Mill',
       'Artist_Melanie Fiona', 'Artist_Melissa Etheridge', 'Artist_Mercedes',
       'Artist_MercyMe', 'Artist_Metallica', 'Artist_Method Man',
       'Artist_Metro Station', 'Artist_Michael Buble', 'Artist_Michael Franti',
       'Artist_Michael Jackson', 'Artist_Michel Telo',
       'Artist_Michelle Branch', 'Artist_Migos', 'Artist_Miguel',
       'Artist_Mike Jones', 'Artist_Mike Posner', 'Artist_Miley Cyrus',
       'Artist_Mindless Behavior', 'Artist_Mint Condition',
       'Artist_Miranda Lambert', 'Artist_Missy Elliott', 'Artist_Mobb Deep',
       'Artist_Moby', 'Artist_Modest Mouse', 'Artist_Molly', 'Artist_Monchy',
       'Artist_Monica', 'Artist_Montell Jordan', 'Artist_Montgomery Gentry',
       'Artist_Mos Def', 'Artist_Mr. Cheeks', 'Artist_Mr. Vegas',
       'Artist_Mudvayne', 'Artist_Mumford', 'Artist_Murphy Lee', 'Artist_Muse',
       'Artist_Musiq', 'Artist_Musiq Soulchild', 'Artist_My Chemical Romance',
       'Artist_Mya', 'Artist_Mystikal', 'Artist_N.O.R.E.',
       'Artist_NEEDTOBREATHE', 'Artist_NERO', 'Artist_Nappy Roots',
       'Artist_Natalie Imbruglia', 'Artist_Natasha Bedingfield',
       'Artist_Naughty By Nature', 'Artist_Ne', 'Artist_Neal McCoy',
       'Artist_Nelly', 'Artist_Nelly Furtado', 'Artist_Neon Trees',
       'Artist_New Boyz', 'Artist_New Edition', 'Artist_New Found Glory',
       'Artist_New Kids On The Block', 'Artist_NewSong', 'Artist_Next',
       'Artist_Nick Cannon', 'Artist_Nick Lachey', 'Artist_Nickelback',
       'Artist_Nicki Minaj', 'Artist_Nicky Jam', 'Artist_Nico',
       'Artist_Nine Days', 'Artist_Nine Inch Nails', 'Artist_Nipsey Hussle',
       'Artist_Nitty', 'Artist_Nivea', 'Artist_No Doubt', 'Artist_Norah Jones',
       'Artist_Now', 'Artist_O.A.R.', 'Artist_OK Go', 'Artist_Oakenfold',
       'Artist_Oasis', 'Artist_Obie Trice', 'Artist_Of Monsters And Men',
       'Artist_Ol Dirty Bastard', 'Artist_Olly Murs', 'Artist_Omarion',
       'Artist_OneRepublic', 'Artist_Orianthi', 'Artist_Our Lady Peace',
       'Artist_OutKast', 'Artist_Owl City', 'Artist_Ozzy Osbourne',
       'Artist_P!nk', 'Artist_P.O.D.', 'Artist_PSY',
       'Artist_Panic! At The Disco', 'Artist_Panjabi MC', 'Artist_Papa Roach',
       'Artist_Parachute', 'Artist_Paramore', 'Artist_Passenger',
       'Artist_Passion Pit', 'Artist_Pastor Troy', 'Artist_Pat Green',
       'Artist_Patti LaBelle', 'Artist_Patty Loveless', 'Artist_Paul Wall',
       'Artist_Paula Abdul', 'Artist_Paulina Rubio', 'Artist_Pearl Jam',
       'Artist_Pedro Capo', 'Artist_Perry Como', 'Artist_Petey Pablo',
       'Artist_Pharoahe Monch', 'Artist_Pharrell', 'Artist_Pharrell Williams',
       'Artist_Phil Collins', 'Artist_Phil Vassar', 'Artist_Phoenix',
       'Artist_Pilar Montenegro', 'Artist_Pistol Annies', 'Artist_Pitbull',
       'Artist_Plain White Ts', 'Artist_Play', 'Artist_Pleasure P',
       'Artist_Plies', 'Artist_Portugal. The Man', 'Artist_Pretty Ricky',
       'Artist_Prince Royce', 'Artist_Profyle', 'Artist_Project Pat',
       'Artist_Puddle Of Mudd', 'Artist_Pusha T', 'Artist_Q', 'Artist_Queen',
       'Artist_Queens Of The Stone Age', 'Artist_R. Kelly', 'Artist_R.E.M.',
       'Artist_R.L.', 'Artist_Rachel Platten', 'Artist_Radiohead',
       'Artist_Rage Against The Machine', 'Artist_Raheem DeVaughn',
       'Artist_Randy Houser', 'Artist_Randy Travis', 'Artist_Raphael Saadiq',
       'Artist_Rascal Flatts', 'Artist_Ray J', 'Artist_Ray LaMontagne',
       'Artist_Reba', 'Artist_Reba McEntire', 'Artist_Red Hot Chili Peppers',
       'Artist_Redman', 'Artist_Regina Spektor', 'Artist_Reik', 'Artist_Reina',
       'Artist_Relient K', 'Artist_Remy Ma', 'Artist_Rich Boy',
       'Artist_Rick Ross', 'Artist_Ricky Martin', 'Artist_Rihanna',
       'Artist_Rise Against', 'Artist_Rob Thomas', 'Artist_Robbie Williams',
       'Artist_Robin Thicke', 'Artist_Rocko', 'Artist_Rodney Atkins',
       'Artist_Ron Browz', 'Artist_Roscoe Dash', 'Artist_Ruben Studdard',
       'Artist_Ruff Endz', 'Artist_Ryan Cabrera', 'Artist_S Club 7',
       'Artist_SHeDAISY', 'Artist_Sade', 'Artist_Saliva', 'Artist_Sammie',
       'Artist_Santana', 'Artist_Sara Bareilles', 'Artist_Sara Evans',
       'Artist_Sarah Connor', 'Artist_Sarah McLachlan', 'Artist_Saving Abel',
       'Artist_ScHoolboy Q', 'Artist_Scarface', 'Artist_Scotty McCreery',
       'Artist_Seal', 'Artist_Sean Kingston', 'Artist_Sean Paul',
       'Artist_Secondhand Serenade', 'Artist_Seether', 'Artist_September',
       'Artist_Serj Tankian', 'Artist_Shaggy', 'Artist_Shakira',
       'Artist_Shawty Lo', 'Artist_Sherrie Austin', 'Artist_Sheryl Crow',
       'Artist_Shinedown', 'Artist_Shiny Toy Guns', 'Artist_Shontelle',
       'Artist_Shwayze', 'Artist_Shyne', 'Artist_Sia', 'Artist_Sick Puppies',
       'Artist_Silversun Pickups', 'Artist_Simple Plan',
       'Artist_Sixpence None The Richer', 'Artist_Skillet',
       'Artist_Slaughterhouse', 'Artist_Slum Village', 'Artist_Smash Mouth',
       'Artist_Smokie Norful', 'Artist_Snoop Dogg', 'Artist_Snow Patrol',
       'Artist_Solange', 'Artist_Son By Four', 'Artist_Sonique', 'Artist_Sons',
       'Artist_Soulja Boy Tell em', 'Artist_Soundgarden', 'Artist_Spearhead',
       'Artist_Spose', 'Artist_Stacie Orrico', 'Artist_Staind',
       'Artist_Steve Aoki', 'Artist_Steve Azar', 'Artist_Steve Holy',
       'Artist_Steve Wariner', 'Artist_Stevie Wonder', 'Artist_Sting',
       'Artist_Stone Sour', 'Artist_Stone Temple Pilots', 'Artist_Sugababes',
       'Artist_Sugar Ray', 'Artist_Sugarland', 'Artist_Sum 41',
       'Artist_Sunday', 'Artist_Sunny Sweeney', 'Artist_Sunshine Anderson',
       'Artist_Susan Boyle', 'Artist_Switchfoot', 'Artist_System Of A Down',
       'Artist_T', 'Artist_T.I.', 'Artist_TLC', 'Artist_TRUSTcompany',
       'Artist_Taio Cruz', 'Artist_Taking Back Sunday', 'Artist_Talib Kweli',
       'Artist_Tamar Braxton', 'Artist_Tamia', 'Artist_Tammy Cochran',
       'Artist_Tank', 'Artist_Tanto Metro', 'Artist_Taylor Hicks',
       'Artist_Taylor Swift', 'Artist_Teairra Mari', 'Artist_Tech N9Ne',
       'Artist_Teddy Geiger', 'Artist_Teena Marie', 'Artist_Tegan And Sara',
       'Artist_Terri Clark', 'Artist_Terry Dexter', 'Artist_Tessanne Chin',
       'Artist_Thalia', 'Artist_The Afters', 'Artist_The Alchemist',
       'Artist_The All', 'Artist_The Ataris', 'Artist_The Band Perry',
       'Artist_The Beatnuts', 'Artist_The Black Eyed Peas',
       'Artist_The Black Keys', 'Artist_The Bravery',
       'Artist_The Cheetah Girls', 'Artist_The Click Five', 'Artist_The Corrs',
       'Artist_The East Side Boyz', 'Artist_The Fratellis', 'Artist_The Fray',
       'Artist_The Game', 'Artist_The Hives', 'Artist_The Killers',
       'Artist_The Lonely Island', 'Artist_The Mars Volta',
       'Artist_The Nocturnals', 'Artist_The Notorious B.I.G.',
       'Artist_The Pack', 'Artist_The Raconteurs', 'Artist_The Ready Set',
       'Artist_The Red Jumpsuit Apparatus', 'Artist_The Revivalists',
       'Artist_The Rolling Stones', 'Artist_The Ronettes', 'Artist_The Roots',
       'Artist_The Scene', 'Artist_The Script', 'Artist_The Shins',
       'Artist_The Smashing Pumpkins', 'Artist_The Strokes',
       'Artist_The Ting Tings', 'Artist_The Veronicas',
       'Artist_The Wallflowers', 'Artist_The Wanted',
       'Artist_The White Buffalo', 'Artist_The White Stripes',
       'Artist_The Wreckers', 'Artist_Theory Of A Deadman',
       'Artist_Thirty Seconds To Mars', 'Artist_Thompson Square',
       'Artist_Three 6 Mafia', 'Artist_Three Days Grace', 'Artist_Tiesto',
       'Artist_Tim McGraw', 'Artist_Timbaland', 'Artist_Tinie Tempah',
       'Artist_Toby Keith', 'Artist_Toby Love', 'Artist_Tom Petty',
       'Artist_Toni Braxton', 'Artist_Tony Bennett', 'Artist_Tony Lucca',
       'Artist_Tool', 'Artist_Toya', 'Artist_Trace Adkins',
       'Artist_Tracie Spencer', 'Artist_Tracy Byrd', 'Artist_Tracy Lawrence',
       'Artist_Train', 'Artist_Trapt', 'Artist_Trey Songz', 'Artist_Trick',
       'Artist_Trick Daddy', 'Artist_Trick Pony', 'Artist_Trillville',
       'Artist_Trina', 'Artist_Tweet', 'Artist_Twista', 'Artist_Ty Herndon',
       'Artist_Tyler The Creator', 'Artist_Tyrese', 'Artist_U2',
       'Artist_Uncle Kracker', 'Artist_Unk', 'Artist_Usher',
       'Artist_V V Brown', 'Artist_V.I.C.', 'Artist_Van Halen',
       'Artist_Van Zant', 'Artist_Vanessa Carlton', 'Artist_Vertical Horizon',
       'Artist_Vince Gill', 'Artist_Vitamin C', 'Artist_Vivian Green',
       'Artist_WC', 'Artist_WE the Kings', 'Artist_Wale', 'Artist_Warren G',
       'Artist_Wayne Wonder', 'Artist_Webbie', 'Artist_Weezer',
       'Artist_Westlife', 'Artist_Westside Connection', 'Artist_Wham!',
       'Artist_Whitney Houston', 'Artist_Will Smith', 'Artist_Will Young',
       'Artist_Willie Nelson', 'Artist_Wisin', 'Artist_Wiz Khalifa',
       'Artist_Wonder Girls', 'Artist_Wynonna', 'Artist_Xzibit', 'Artist_YG',
       'Artist_Yael Naim', 'Artist_Yandel', 'Artist_Yeah Yeah Yeahs',
       'Artist_Yellowcard', 'Artist_Ying Yang Twins', 'Artist_Yo Gotti',
       'Artist_Yolanda Adams', 'Artist_Yolanda Be Cool', 'Artist_Young Buck',
       'Artist_Young Dro', 'Artist_Young Gunz', 'Artist_Young The Giant',
       'Artist_Young Thug', 'Artist_YoungBloodZ', 'Artist_Yung Joc',
       'Artist_Yung L.A.', 'Artist_Zac Brown Band', 'Artist_Zombie Nation',
       'Artist_deadmau5', 'Artist_iio', 'Artist_k.d. lang',
       'Artist_matchbox twenty', 'Artist_twenty one pilots',
       'Artist_will.i.am', 'TimeSignature_0', 'TimeSignature_3',
       'TimeSignature_4', 'TimeSignature_5','Explicit_True']

app = Flask(__name__)

@app.before_first_request
def load_model_to_app():
    app.predictor = load_model('./static/model/model.h5')
    
    
@app.route("/")
def index():
    return render_template('index.html', pred = 0)

@app.route('/predict', methods=['POST'])
def predict():
    list_column ={}
    for i in column_list:
        list_column [i]=0

    data = [request.form['Acousticness'],
            request.form['Danceability'],
            request.form['Duration'], 
            request.form['Energy'],
            request.form['Explicit'],
            request.form['Instrumentalness'],
            request.form['Liveness'], 
            request.form['Loudness'],
            request.form['Speechiness'],
            request.form['Tempo'],
            request.form['TimeSignature'], 
            request.form['Valence']]
    
    list_column ["Acousticness"] = request.form['Acousticness']
    list_column ["Danceability"] = request.form['Danceability']
    list_column ['Duration'] = request.form['Duration']
    list_column ['Energy'] = request.form['Energy']
    if request.form ["Explicit"] == "True":
        list_column ["Explicit_True"] = 1
    list_column ['Instrumentalness'] = request.form['Instrumentalness']
    list_column ["Liveness"] = request.form['Liveness']
    list_column ["Loudness"] = request.form['Loudness']
    list_column ["Speechiness"] = request.form['Speechiness']
    list_column ["Tempo"] = request.form['Tempo']
    if request.form['TimeSignature'] != "1":
        list_column [f"TimeSignature_{request.form['TimeSignature']}"] = 1
    list_column ["Valence"] = request.form['Valence']
    list_column [f"Artist_{request.form['Artist']}"] = 1

    data = list(list_column.values())
    data = np.array([np.asarray(data, dtype=float)])

    print(data)
    predictions = app.predictor.predict(data)
    print('INFO Predictions: {}'.format(predictions))


    class_ = predictions[0][0]
    if predictions[0][0] < 0.5:
        class_ = 'Unpopular'
    else:
        class_ = 'Popular'

    return render_template('index.html', pred=class_)

if __name__ == "__main__":
    app.run(debug=True)
